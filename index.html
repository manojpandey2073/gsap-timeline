<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>GSAP Timeline</title>

    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <div class="container">
        <div class="timeline_sticky-wrapper">
            <div class="timeline_overflow">
              <div
                class="timeline_sticky">
                <div class="timeline_collection-list-wrapper">
                  <div role="list" class="timeline_collection-list">
                    <div role="listitem" class="timeline_point timeline">
                      <div class="timeline_point-title">
                        <div class="text-styles-h3">July 2022</div>
                        <div class="text-styles-content w-richtext">
                          <p>Benetics AG founded in Zurich</p>
                        </div>
                        <img
                          src="https://cdn.prod.website-files.com/664f1b6ebf606afd0b3ad1ac/666971914183402f5878d00d_July%202022.png"
                          loading="lazy"
                          alt=""
                          class="timeline_point-cover"
                        />
                      </div>
                      <img
                        src="https://cdn.prod.website-files.com/664c608e027269fcd33e7008/6654df201e8a213997aa87cc_Story%20-%20Ponts.svg"
                        loading="lazy"
                        alt=""
                        class="timeline_point-image"
                      />
                    </div>
                    <div role="listitem" class="timeline_point timeline">
                      <div class="timeline_point-title">
                        <div class="text-styles-h3">January 2023</div>
                        <div class="text-styles-content w-richtext">
                          <p>
                            Launch of the first mobile app prototype (plans, task
                            management, photos, chat)
                          </p>
                        </div>
                        <img
                          src="https://cdn.prod.website-files.com/664f1b6ebf606afd0b3ad1ac/666971a0c70341594c17b275_January%202023.png"
                          loading="lazy"
                          alt=""
                          class="timeline_point-cover"
                        />
                      </div>
                      <img
                        src="https://cdn.prod.website-files.com/664c608e027269fcd33e7008/6654df201e8a213997aa87cc_Story%20-%20Ponts.svg"
                        loading="lazy"
                        alt=""
                        class="timeline_point-image"
                      />
                    </div>
                    <div role="listitem" class="timeline_point timeline">
                      <div class="timeline_point-title">
                        <div class="text-styles-h3">March 2023</div>
                        <div class="text-styles-content w-richtext">
                          <p>Introduction of the first AI feature (chat logs)</p>
                        </div>
                        <img
                          src="https://cdn.prod.website-files.com/664f1b6ebf606afd0b3ad1ac/6655daee61689c9ca48b92ea_March.png"
                          loading="lazy"
                          alt=""
                          class="timeline_point-cover"
                        />
                      </div>
                      <img
                        src="https://cdn.prod.website-files.com/664c608e027269fcd33e7008/6654df201e8a213997aa87cc_Story%20-%20Ponts.svg"
                        loading="lazy"
                        alt=""
                        class="timeline_point-image"
                      />
                    </div>
                    <div role="listitem" class="timeline_point timeline">
                      <div class="timeline_point-title">
                        <div class="text-styles-h3">April 2023</div>
                        <div class="text-styles-content w-richtext">
                          <p>
                            Start of the first strategic development partnership with
                            Bernauer AG
                          </p>
                        </div>
                        <img
                          src="https://cdn.prod.website-files.com/664f1b6ebf606afd0b3ad1ac/6655daf4299f06ed6cf5efe2_April.png"
                          loading="lazy"
                          alt=""
                          class="timeline_point-cover"
                        />
                      </div>
                      <img
                        src="https://cdn.prod.website-files.com/664c608e027269fcd33e7008/6654df201e8a213997aa87cc_Story%20-%20Ponts.svg"
                        loading="lazy"
                        alt=""
                        class="timeline_point-image"
                      />
                    </div>
                    <div role="listitem" class="timeline_point timeline">
                      <div class="timeline_point-title">
                        <div class="text-styles-h3">July 2023</div>
                        <div class="text-styles-content w-richtext">
                          <p>Hiring of the tenth employee</p>
                        </div>
                        <img
                          src="https://cdn.prod.website-files.com/664f1b6ebf606afd0b3ad1ac/666971d1ae34ec63a096fc6a_July%202023.png"
                          loading="lazy"
                          alt=""
                          class="timeline_point-cover"
                        />
                      </div>
                      <img
                        src="https://cdn.prod.website-files.com/664c608e027269fcd33e7008/6654df201e8a213997aa87cc_Story%20-%20Ponts.svg"
                        loading="lazy"
                        alt=""
                        class="timeline_point-image"
                      />
                    </div>
                    <div role="listitem" class="timeline_point timeline">
                      <div class="timeline_point-title">
                        <div class="text-styles-h3">November 2023</div>
                        <div class="text-styles-content w-richtext">
                          <p>Move to the new office on Beethovenstrasse in Zurich</p>
                        </div>
                        <img
                          src="https://cdn.prod.website-files.com/664f1b6ebf606afd0b3ad1ac/66697292d12616eb54a25d1e_November%202023.png"
                          loading="lazy"
                          alt=""
                          class="timeline_point-cover"
                        />
                      </div>
                      <img
                        src="https://cdn.prod.website-files.com/664c608e027269fcd33e7008/6654df201e8a213997aa87cc_Story%20-%20Ponts.svg"
                        loading="lazy"
                        alt=""
                        class="timeline_point-image"
                      />
                    </div>
                    <div role="listitem" class="timeline_point timeline">
                      <div class="timeline_point-title">
                        <div class="text-styles-h3">December 2023</div>
                        <div class="text-styles-content w-richtext">
                          <p>Launch of the Benetics web app</p>
                        </div>
                        <img
                          src="https://cdn.prod.website-files.com/664f1b6ebf606afd0b3ad1ac/6655db084c5deec294c0fa2e_December.png"
                          loading="lazy"
                          alt=""
                          class="timeline_point-cover"
                        />
                      </div>
                      <img
                        src="https://cdn.prod.website-files.com/664c608e027269fcd33e7008/6654df201e8a213997aa87cc_Story%20-%20Ponts.svg"
                        loading="lazy"
                        alt=""
                        class="timeline_point-image"
                      />
                    
                    
                  </div>
                </div>
                <div class="timeline_future">
                  <div class="text-styles-h3"><strong>Blick nach vorn</strong></div>
                  <div class="timeline_future-content">
                    <div class="timeline_future-content-item">
                      <div class="text-styles-content text-width-bold">
                        <strong>Q2/2024:</strong>
                      </div>
                      <ul role="list">
                        <li>
                          <div class="text-styles-content">
                            Introduction of the “Benetics AI Email Assistant”:
                            Prototype testing with development partners
                          </div>
                        </li>
                        <li>
                          <div class="text-styles-content">
                            Improved PDF export functionalities from the desktop app
                          </div>
                        </li>
                      </ul>
                    </div>
                    <div class="timeline_future-content-item">
                      <div class="text-styles-content text-width-bold">
                        <strong>Q3/2024:</strong>
                      </div>
                      <ul role="list">
                        <li>
                          <div class="text-styles-content">
                            Expansion of photo functionalities for documentation:
                            Batch upload and export
                          </div>
                        </li>
                        <li>
                          <div class="text-styles-content">
                            Planned introduction of various "measure on plans"
                            features
                          </div>
                        </li>
                      </ul>
                    </div>
                    <div class="text-styles-desc">
                      This is just a part of topics we are currently intensely working
                      on with construction companies. Thank you to our partners.
                    </div>
                  </div>
                </div>
                <div class="timeline_line-wrapper">
                  <div
                    class="timeline_line"
                    style="will-change: width, height; width: 7.0026%"
                  ></div>
                </div>
              </div>
            </div>
          </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>

<!-- <script>
  gsap.registerPlugin(ScrollTrigger);

const sections = gsap.utils.toArray(".timeline_point");
let maxWidth = 0;

const getMaxWidth = () => {
  maxWidth = 0;
  sections.forEach((section) => {
    maxWidth += section.offsetWidth;
  });
};
getMaxWidth();
ScrollTrigger.addEventListener("refreshInit", getMaxWidth);

gsap.to(sections, {
  x: () => `-${maxWidth - window.innerWidth}`,
  ease: "none",
  scrollTrigger: {
    trigger: ".timeline_point",
    pin: true,
    scrub: true,
    end: () => `+=${maxWidth}`,
    invalidateOnRefresh: true
  }
});

sections.forEach((sct, i) => {
  ScrollTrigger.create({
    trigger: sct,
    start: () => 'top top-=' + (sct.offsetLeft - window.innerWidth/2) * (maxWidth / (maxWidth - window.innerWidth)),
    end: () => '+=' + sct.offsetWidth * (maxWidth / (maxWidth - window.innerWidth)),
    toggleClass: {targets: sct, className: "active"}
  });
});

</script> -->
<script>
    gsap.registerPlugin(ScrollTrigger);

const sections = gsap.utils.toArray(".timeline_point"); // All timeline items
const progressLine = document.querySelector(".timeline_line"); // The progress line

// Get the total width of the timeline items for horizontal scroll
let maxScrollWidth = 0;

const calculateMaxWidth = () => {
  maxScrollWidth = 0;
  sections.forEach((section) => {
    maxScrollWidth += section.offsetWidth;
  });
};
calculateMaxWidth();

// Update max width on refresh
ScrollTrigger.addEventListener("refreshInit", calculateMaxWidth);

// Horizontal scroll animation
gsap.to(".timeline_collection-list", {
  x: () => `-${maxScrollWidth - window.innerWidth}px`,
  ease: "none",
  scrollTrigger: {
    trigger: ".timeline_overflow",
    pin: true, // Pin the timeline section during animation
    scrub: true, // Smooth scrubbing
    end: () => `+=${maxScrollWidth}px`, // End after scrolling through all items
    invalidateOnRefresh: true, // Recalculate values on refresh
  },
});

// Progress line animation
gsap.to(progressLine, {
  width: "100%", // Increase width to 100%
  ease: "none",
  scrollTrigger: {
    trigger: ".timeline_overflow",
    scrub: true, // Smooth scrubbing
    start: "top left", // Animation starts when the timeline is at the top
    end: () => `+=${maxScrollWidth}px`, // Match the scroll distance
  },
});

// Active class toggle for timeline points
sections.forEach((section) => {
  ScrollTrigger.create({
    trigger: section,
    start: "left center", // When the section enters the viewport
    end: "right center", // When it leaves the viewport
    toggleClass: { targets: section, className: "active" },
  });
});

</script>
  </body>
</html>
